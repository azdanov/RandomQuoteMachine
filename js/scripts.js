'use strict';(function(){function a(a){return l(Math.random()*a)}function b(a){var b=l(Math.random()*a.length);return a[b]}function c(){var a=document.getElementById('copy').parentElement.children;return'"'+a.quote.innerText.trim()+'"\n'+a.author.innerText.trim()}function d(b){var c=b[a(b.length)],d=document.getElementsByClassName('modal-background')[0];d.style.opacity=0,window.setTimeout(function(){d.style.background='-webkit-gradient(linear, left top, left bottom, from('+c.colors[0]+'), to('+c.colors[1]+'))',d.style.background='linear-gradient('+c.colors[0]+', '+c.colors[1]+')',d.style.opacity=0.8},m)}function e(a){var b=document.createElement('textarea');b.style.position='fixed',b.style.top=0,b.style.left=0,b.style.width='2em',b.style.height='2em',b.style.padding=0,b.style.border='none',b.style.outline='none',b.style.boxShadow='none',b.style.background='transparent',b.value=a,document.body.appendChild(b),b.select();try{document.execCommand('copy')}catch(a){throw new Error('Oops, unable to copy',a)}document.body.removeChild(b)}function f(){return event&&'keydown'===event.type&&(13!==event.which||13!==event.keyCode)}function g(){if(!f()){e(c());var a=event.currentTarget,b=a.textContent;a.textContent='Copied!',window.setTimeout(function(){a.textContent=b},3e3)}}function h(){if(!f()){p.classList.add('is-loading');var c=b(Object.getOwnPropertyNames(r));fetch('https://cors-anywhere.herokuapp.com/https://www.forbes.com/forbesapi/thought/get.json?limit=1&start='+a(r[c])+'&themeuri='+c).then(function(a){if(400<=a.status)throw new Error('Bad response from server');return a.json()}).then(function(a){var b=a.thoughtList[0].quote,c=a.thoughtList[0].thoughtAuthor.name,d=a.thoughtList[0].thoughtThemes[0].name,e=document.getElementById('quote'),f=document.getElementById('author'),g=document.getElementById('quote-theme');e.classList.remove('show'),f.classList.remove('show'),g.classList.remove('show'),o.classList.remove('show'),p.dispatchEvent(n),window.setTimeout(function(){e.innerHTML='<span class="icon"><i class="fa fa-quote-left"></i></span>'+b,f.innerText=c,g.innerText=d,e.classList.add('show'),g.classList.add('show'),f.classList.add('show'),o.classList.add('show'),p.classList.remove('is-loading')},m)})}}function i(){f()||window.open('https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(window.location.href)+'&picture='+encodeURIComponent('https://image.freepik.com/free-icon/conversation-mark-interface-symbol-of-circular-speech-bubble-with-quotes-signs-inside_318-56572.jpg')+'&title=Daily+quotes&quote=Get+your+daily+quote&description='+encodeURIComponent(c()))}function j(){if(!f()){var a=c(),b='https://twitter.com/intent/tweet?text=';b+=140>=a.length?a:'Awesome quotes at '+window.location.href,window.open(b),window.open('https://twitter.com/intent/tweet?text=Binge on popular quotes at '+window.location.href)}}function k(){f()||window.open('mailto:?subject=Quote&body='+encodeURI(c()))}var l=Math.floor,m=600,n=new Event('changeBackground'),o=document.getElementById('copy'),p=document.getElementById('quote-button'),q=Array.from(document.getElementsByClassName('button')),r={self:144,best:12,emotions:17,life:207,justice:41,wealth:154,laughter:31,anger:65,art:108,executives:16,power:78,education:146,wisdom:108,greatness:63};fetch('https://cdn.rawgit.com/ghosh/uiGradients/master/gradients.json').then(function(a){if(400<=a.status)throw new Error('Bad response from server');return a.json()}).then(function(a){p.addEventListener('changeBackground',d.bind(null,a))}),q.forEach(function(a){return a.addEventListener('click',function(){return event.currentTarget.blur()})}),q.forEach(function(a){switch(a.id){case'facebook':a.addEventListener('mousedown',i),a.addEventListener('keydown',i);break;case'twitter':a.addEventListener('mousedown',j),a.addEventListener('keydown',j);break;case'email':a.addEventListener('mousedown',k),a.addEventListener('keydown',k);break;default:}}),o.addEventListener('mouseenter',function(){event.currentTarget.parentElement.classList.add('focus')}),o.addEventListener('mouseleave',function(){event.currentTarget.parentElement.classList.remove('focus')}),o.addEventListener('click',g),o.addEventListener('keydown',g),p.addEventListener('click',h),p.addEventListener('keydown',h),h()})();